import type { AvatarType } from '../../types';

interface PixelSpriteProps {
  avatar: AvatarType;
  size?: number;
  glowColor?: string;
  className?: string;
}

// Enhanced color palettes with more shades for depth
const SPRITE_PALETTES: Record<AvatarType, {
  outline: string;
  outlineLight: string;
  skin: string;
  skinShadow: string;
  skinHighlight: string;
  hair: string;
  hairShadow: string;
  primary: string;
  primaryLight: string;
  primaryDark: string;
  secondary: string;
  accent: string;
  accentGlow: string;
}> = {
  mage: {
    outline: '#1a1410',
    outlineLight: '#2d2520',
    skin: '#e8c4a0',
    skinShadow: '#c9a080',
    skinHighlight: '#f5dcc4',
    hair: '#4a3728',
    hairShadow: '#2d2118',
    primary: '#4f46e5',       // royal blue robe
    primaryLight: '#6366f1',
    primaryDark: '#3730a3',
    secondary: '#312e81',
    accent: '#fbbf24',        // gold staff/magic
    accentGlow: '#fde68a',
  },
  warrior: {
    outline: '#1a1410',
    outlineLight: '#2d2520',
    skin: '#e8c4a0',
    skinShadow: '#c9a080',
    skinHighlight: '#f5dcc4',
    hair: '#78350f',
    hairShadow: '#451a03',
    primary: '#a1a1aa',       // silver armor
    primaryLight: '#d4d4d8',
    primaryDark: '#71717a',
    secondary: '#52525b',
    accent: '#dc2626',        // red cape/plume
    accentGlow: '#f87171',
  },
  rogue: {
    outline: '#1a1410',
    outlineLight: '#2d2520',
    skin: '#e8c4a0',
    skinShadow: '#c9a080',
    skinHighlight: '#f5dcc4',
    hair: '#1c1917',
    hairShadow: '#0a0a0a',
    primary: '#374151',       // dark leather
    primaryLight: '#4b5563',
    primaryDark: '#1f2937',
    secondary: '#111827',
    accent: '#10b981',        // poison green daggers
    accentGlow: '#34d399',
  },
  cleric: {
    outline: '#1a1410',
    outlineLight: '#2d2520',
    skin: '#e8c4a0',
    skinShadow: '#c9a080',
    skinHighlight: '#f5dcc4',
    hair: '#fef3c7',
    hairShadow: '#fde68a',
    primary: '#f5f5f4',       // white robes
    primaryLight: '#ffffff',
    primaryDark: '#d4d4d8',
    secondary: '#a1a1aa',
    accent: '#eab308',        // holy gold
    accentGlow: '#fde047',
  },
  ranger: {
    outline: '#1a1410',
    outlineLight: '#2d2520',
    skin: '#e8c4a0',
    skinShadow: '#c9a080',
    skinHighlight: '#f5dcc4',
    hair: '#854d0e',
    hairShadow: '#713f12',
    primary: '#166534',       // forest green
    primaryLight: '#22c55e',
    primaryDark: '#14532d',
    secondary: '#365314',
    accent: '#a16207',        // brown leather/bow
    accentGlow: '#ca8a04',
  },
  warlock: {
    outline: '#1a1410',
    outlineLight: '#2d2520',
    skin: '#d4c4b0',
    skinShadow: '#a89888',
    skinHighlight: '#e8dcd0',
    hair: '#581c87',
    hairShadow: '#3b0764',
    primary: '#581c87',       // dark purple robes
    primaryLight: '#7c3aed',
    primaryDark: '#3b0764',
    secondary: '#1e1b4b',
    accent: '#06b6d4',        // cyan soul magic
    accentGlow: '#67e8f9',
  },
};

// 32x48 pixel sprites - much more detailed
// 0=transparent, 1=outline, 2=outlineLight, 3=skin, 4=skinShadow, 5=skinHighlight
// 6=hair, 7=hairShadow, 8=primary, 9=primaryLight, 10=primaryDark, 11=secondary, 12=accent, 13=accentGlow
const SPRITE_DATA: Record<AvatarType, number[][]> = {
  mage: [
    // Row 0-3: Hat top
    [0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,1,8,8,8,9,9,8,8,8,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,8,8,8,9,9,9,9,8,8,8,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,8,8,8,8,8,12,12,8,8,8,8,8,1,0,0,0,0,0,0,0,0,0],
    // Row 4-7: Hat brim + hair
    [0,0,0,0,0,0,0,0,1,8,8,8,8,8,12,13,13,12,8,8,8,8,8,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,6,6,6,6,6,6,6,6,6,6,6,6,1,0,0,0,0,0,0,0,0,0],
    // Row 8-15: Face
    [0,0,0,0,0,0,0,0,1,6,6,7,6,6,6,6,6,6,6,6,7,6,6,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,6,7,7,6,6,6,6,6,6,6,6,7,7,6,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,3,3,5,3,3,3,3,3,3,3,3,3,3,5,3,3,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,3,3,1,1,3,3,3,3,3,3,3,3,1,1,3,3,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,3,3,1,1,3,3,3,3,3,3,3,3,1,1,3,3,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,4,3,3,3,3,3,4,4,4,4,3,3,3,3,3,4,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,4,3,3,3,3,3,3,3,3,3,3,3,3,4,1,0,0,0,0,0,0,0,0],
    // Row 16-19: Mouth/Chin + Neck
    [0,0,0,0,0,0,0,0,1,4,4,3,3,3,4,4,4,4,3,3,3,4,4,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,4,4,3,3,3,3,3,3,3,3,4,4,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,1,4,4,4,4,4,4,4,4,1,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,1,3,3,3,3,3,3,1,0,0,0,0,0,0,0,0,0,0,0,0],
    // Row 20-31: Robe body
    [0,0,0,0,0,0,0,0,0,1,1,1,8,8,8,8,8,8,8,8,1,1,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,8,8,8,8,9,9,8,8,9,9,8,8,8,8,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,8,8,8,8,9,9,12,12,12,12,9,9,8,8,8,8,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,1,8,8,8,8,8,8,12,13,13,13,13,12,8,8,8,8,8,8,1,12,0,0,0,0,0],
    [0,0,0,0,0,1,10,8,8,8,8,8,8,8,12,12,12,12,8,8,8,8,8,8,8,10,1,12,0,0,0,0],
    [0,0,0,0,0,1,10,3,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,3,10,1,12,0,0,0,0],
    [0,0,0,0,0,1,10,3,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,3,10,1,12,12,0,0,0],
    [0,0,0,0,0,0,1,3,10,8,8,8,8,8,8,8,8,8,8,8,8,8,8,10,3,1,0,12,12,0,0,0],
    [0,0,0,0,0,0,1,4,10,8,8,8,8,8,8,8,8,8,8,8,8,8,8,10,4,1,0,12,12,0,0,0],
    [0,0,0,0,0,0,0,1,10,10,8,8,8,8,8,8,8,8,8,8,8,8,10,10,1,0,0,1,12,12,0,0],
    [0,0,0,0,0,0,0,1,8,10,10,8,8,8,8,8,8,8,8,8,8,10,10,8,1,0,0,0,1,12,13,0],
    [0,0,0,0,0,0,0,0,1,8,10,10,8,8,8,8,8,8,8,8,10,10,8,1,0,0,0,0,1,12,13,1],
    // Row 32-39: Lower robe
    [0,0,0,0,0,0,0,0,1,8,8,10,10,8,8,8,8,8,8,10,10,8,8,1,0,0,0,0,0,1,13,1],
    [0,0,0,0,0,0,0,0,0,1,8,8,10,10,8,8,8,8,10,10,8,8,1,0,0,0,0,0,0,0,1,0],
    [0,0,0,0,0,0,0,0,0,1,8,8,8,10,10,10,10,10,10,8,8,8,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,8,8,8,8,8,8,8,8,8,8,8,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,8,8,8,8,1,1,8,8,8,8,8,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,8,8,8,1,0,0,1,8,8,8,8,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,10,10,1,0,0,0,1,10,10,10,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,10,10,1,0,0,0,1,10,10,10,1,0,0,0,0,0,0,0,0,0,0],
    // Row 40-47: Feet
    [0,0,0,0,0,0,0,0,0,1,11,11,11,11,1,0,1,11,11,11,11,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,11,11,11,11,1,0,1,11,11,11,11,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,11,11,11,11,11,11,1,11,11,11,11,11,11,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,11,11,11,11,11,11,1,11,11,11,11,11,11,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  ],
  warrior: [
    // Row 0-3: Helmet top with plume
    [0,0,0,0,0,0,0,0,0,0,0,0,0,12,12,12,12,12,12,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,12,12,13,13,13,13,12,12,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,12,12,13,13,13,13,13,13,12,12,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0],
    // Row 4-7: Helmet
    [0,0,0,0,0,0,0,0,0,1,8,8,8,9,9,9,9,9,9,8,8,8,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,8,8,9,9,9,9,9,9,9,9,9,9,8,8,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,1,0,0,0,0,0,0,0],
    // Row 8-15: Face visible through helmet
    [0,0,0,0,0,0,0,1,8,8,1,1,1,1,1,1,1,1,1,1,1,1,8,8,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,8,1,3,3,3,3,3,3,3,3,3,3,3,3,1,8,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,8,1,3,3,5,3,3,3,3,3,3,5,3,3,1,8,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,8,1,3,3,1,1,3,3,3,3,1,1,3,3,1,8,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,8,1,3,3,1,1,3,3,3,3,1,1,3,3,1,8,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,8,1,4,3,3,3,3,4,4,3,3,3,3,4,1,8,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,8,1,4,4,3,3,3,3,3,3,3,3,4,4,1,8,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,1,1,4,4,3,4,4,4,3,4,4,1,1,10,1,0,0,0,0,0,0,0,0],
    // Row 16-19: Chin guard + Neck
    [0,0,0,0,0,0,0,0,1,10,10,1,1,1,1,1,1,1,1,10,10,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,1,0,0,1,3,3,3,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,1,1,1,8,8,8,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0],
    // Row 20-31: Armor body
    [0,0,0,0,0,0,0,0,0,1,8,8,8,8,8,8,8,8,8,8,8,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,8,8,9,9,9,9,9,9,9,9,9,8,8,1,0,12,12,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,8,8,9,9,9,9,9,9,9,9,9,9,9,8,8,1,12,12,12,0,0,0,0,0],
    [0,0,0,0,0,0,1,8,8,8,8,9,9,8,8,8,8,8,9,9,8,8,8,8,1,12,12,0,0,0,0,0],
    [0,0,0,0,0,1,10,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,10,1,12,0,0,0,0,0],
    [0,0,0,0,0,1,10,3,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,3,10,1,0,0,0,0,0],
    [0,0,0,0,0,1,10,3,3,8,8,8,8,8,8,8,8,8,8,8,8,8,8,3,3,10,1,0,0,0,0,0],
    [0,0,0,0,0,0,1,4,3,10,8,8,8,8,8,8,8,8,8,8,8,8,10,3,4,1,0,0,0,0,0,0],
    [0,0,0,0,0,0,1,4,4,10,10,8,8,8,8,8,8,8,8,8,8,10,10,4,4,1,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,4,10,10,10,8,8,8,8,8,8,8,8,10,10,10,4,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,10,10,10,10,8,8,8,8,8,10,10,10,10,10,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,10,10,10,10,10,8,8,8,10,10,10,10,10,1,0,0,0,0,0,0,0,0,0],
    // Row 32-39: Lower armor / legs
    [0,0,0,0,0,0,0,0,1,8,8,10,10,10,10,10,10,10,10,10,8,8,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,8,8,8,10,10,10,10,10,8,8,8,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,8,8,8,8,8,1,1,8,8,8,8,8,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,8,8,8,1,0,0,1,8,8,8,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,10,10,1,0,0,0,1,10,10,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,10,10,1,0,0,0,1,10,10,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,10,10,10,10,1,0,1,10,10,10,10,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,10,10,10,10,1,0,1,10,10,10,10,1,0,0,0,0,0,0,0,0,0,0],
    // Row 40-47: Boots
    [0,0,0,0,0,0,0,0,1,11,11,11,11,11,11,1,11,11,11,11,11,11,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,11,11,11,11,11,11,1,11,11,11,11,11,11,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,11,11,11,11,11,11,11,1,1,11,11,11,11,11,11,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,11,11,11,11,11,11,11,1,1,11,11,11,11,11,11,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  ],
  rogue: [
    // Row 0-3: Hood top
    [0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,1,1,8,8,8,8,8,8,1,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,8,8,8,9,9,9,9,8,8,8,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,8,8,8,9,9,9,9,9,9,8,8,8,1,0,0,0,0,0,0,0,0,0],
    // Row 4-7: Hood + hair
    [0,0,0,0,0,0,0,0,1,8,8,8,8,8,9,9,9,9,8,8,8,8,8,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,8,8,8,8,8,8,8,8,8,8,8,8,8,8,10,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,10,6,6,6,6,6,6,6,6,6,6,6,6,10,10,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,6,6,7,6,6,6,6,6,6,6,6,7,6,6,10,1,0,0,0,0,0,0,0],
    // Row 8-15: Face in shadow
    [0,0,0,0,0,0,0,1,10,6,7,7,6,6,6,6,6,6,6,6,7,7,6,10,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,1,1,1,3,3,3,3,3,3,3,3,1,1,1,10,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,1,4,3,3,5,3,3,3,3,5,3,3,4,1,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,4,4,3,3,1,3,3,3,3,1,3,3,4,4,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,4,4,3,3,1,3,3,3,3,1,3,3,4,4,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,4,3,3,3,3,4,4,3,3,3,3,4,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,4,4,3,3,3,3,3,3,3,3,4,4,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,1,4,4,4,4,4,4,4,4,1,1,0,0,0,0,0,0,0,0,0,0],
    // Row 16-19: Neck + scarf
    [0,0,0,0,0,0,0,0,0,0,0,1,10,10,3,3,10,10,1,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,1,10,3,3,3,3,10,1,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,10,10,10,3,3,10,10,10,1,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,10,10,10,8,8,8,8,10,10,10,1,0,0,0,0,0,0,0,0,0,0,0],
    // Row 20-31: Leather armor body
    [0,0,0,0,0,0,0,0,1,8,8,8,8,8,8,8,8,8,8,8,8,8,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,8,8,8,9,9,8,8,8,8,8,9,9,8,8,8,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,1,8,8,8,9,9,9,8,8,8,8,8,9,9,9,8,8,8,1,0,0,0,0,0,0,0],
    [0,0,12,12,0,1,10,8,8,8,8,9,9,8,11,11,8,9,9,8,8,8,8,10,1,0,0,12,12,0,0,0],
    [0,12,13,12,1,10,10,3,8,8,8,8,8,11,11,11,11,8,8,8,8,8,3,10,10,1,12,13,12,0,0,0],
    [12,13,12,0,1,10,10,3,3,8,8,8,8,8,11,11,8,8,8,8,8,3,3,10,10,1,0,12,13,12,0,0],
    [12,12,0,0,0,1,10,4,3,10,8,8,8,8,8,8,8,8,8,8,8,10,3,4,10,1,0,0,12,12,0,0],
    [0,0,0,0,0,0,1,4,4,10,10,8,8,8,8,8,8,8,8,8,10,10,4,4,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,4,10,10,10,8,8,8,8,8,8,8,10,10,10,4,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,10,10,10,10,8,8,8,8,10,10,10,10,10,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,10,10,10,10,10,8,8,10,10,10,10,10,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,8,10,10,10,10,10,10,10,10,10,10,8,1,0,0,0,0,0,0,0,0,0,0],
    // Row 32-39: Pants/legs
    [0,0,0,0,0,0,0,0,0,1,8,8,10,10,10,10,10,10,8,8,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,8,8,8,10,10,10,10,8,8,8,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,8,8,8,8,1,8,8,8,8,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,10,10,8,1,0,1,8,10,10,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,10,10,1,0,0,0,1,10,10,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,10,10,1,0,0,0,1,10,10,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,11,10,10,10,1,0,1,10,10,10,11,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,11,11,10,10,1,0,1,10,10,11,11,1,0,0,0,0,0,0,0,0,0,0],
    // Row 40-47: Boots
    [0,0,0,0,0,0,0,0,1,11,11,11,11,11,1,0,1,11,11,11,11,11,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,11,11,11,11,11,1,0,1,11,11,11,11,11,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,11,11,11,11,11,11,1,0,1,11,11,11,11,11,11,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,11,11,11,11,11,11,1,0,1,11,11,11,11,11,11,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  ],
  cleric: [
    // Row 0-3: Halo
    [0,0,0,0,0,0,0,0,0,0,0,12,12,13,13,13,13,13,13,12,12,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,12,13,0,0,0,0,0,0,0,0,13,12,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0],
    // Row 4-7: Hair
    [0,0,0,0,0,0,0,0,0,0,1,6,6,6,6,6,6,6,6,6,6,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,6,6,7,6,6,6,6,6,6,7,6,6,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,6,7,7,6,6,6,6,6,6,7,7,6,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,6,7,6,6,6,6,6,6,6,6,7,6,1,0,0,0,0,0,0,0,0,0],
    // Row 8-15: Face
    [0,0,0,0,0,0,0,0,0,1,3,3,3,3,3,3,3,3,3,3,3,3,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,3,3,5,3,3,3,3,3,3,3,3,5,3,3,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,3,3,1,1,3,3,3,3,3,3,1,1,3,3,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,3,3,1,1,3,3,3,3,3,3,1,1,3,3,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,4,3,3,3,3,3,4,4,3,3,3,3,3,4,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,4,3,3,3,3,3,3,3,3,3,3,4,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,4,4,3,3,4,1,1,4,3,3,4,4,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,1,4,4,4,4,4,4,4,4,1,1,0,0,0,0,0,0,0,0,0,0],
    // Row 16-19: Neck
    [0,0,0,0,0,0,0,0,0,0,0,0,1,3,3,3,3,3,3,1,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,3,3,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,1,1,8,8,8,8,8,8,1,1,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,8,8,8,8,8,8,8,8,8,8,8,8,1,0,0,0,0,0,0,0,0,0],
    // Row 20-31: White robes with gold trim
    [0,0,0,0,0,0,0,0,1,8,8,8,8,9,9,9,9,9,9,8,8,8,8,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,8,8,8,9,9,9,12,12,12,12,9,9,9,8,8,8,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,1,8,8,8,9,9,12,13,13,13,13,13,13,12,9,9,8,8,8,1,0,0,0,0,0,0],
    [0,0,0,0,0,1,10,8,8,8,8,9,12,13,12,12,12,12,13,12,9,8,8,8,8,10,1,0,0,0,0,0],
    [0,0,0,0,0,1,10,3,8,8,8,8,12,12,8,8,8,8,12,12,8,8,8,8,3,10,1,0,0,0,0,0],
    [0,0,0,0,0,1,10,3,3,8,8,8,8,8,8,8,8,8,8,8,8,8,8,3,3,10,1,0,0,0,0,0],
    [0,0,0,0,0,0,1,4,3,10,8,8,8,8,8,8,8,8,8,8,8,8,10,3,4,1,0,0,0,0,0,0],
    [0,0,0,0,0,0,1,4,4,10,10,8,8,8,8,8,8,8,8,8,8,10,10,4,4,1,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,4,10,10,10,8,8,8,8,8,8,8,8,10,10,10,4,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,10,10,10,10,8,8,8,8,8,10,10,10,10,10,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,10,10,10,10,10,8,8,8,10,10,10,10,10,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,8,10,10,10,10,10,10,10,10,10,10,8,1,0,0,0,0,0,0,0,0,0,0],
    // Row 32-39: Lower robes
    [0,0,0,0,0,0,0,0,0,1,8,8,10,10,10,10,10,10,8,8,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,8,8,8,10,10,10,10,8,8,8,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,8,8,8,8,1,8,8,8,8,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,8,8,8,1,0,1,8,8,8,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,10,10,1,0,0,1,10,10,1,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,10,10,1,0,0,1,10,10,1,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,11,10,10,10,1,0,1,10,10,10,11,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,11,11,10,10,1,0,1,10,10,11,11,1,0,0,0,0,0,0,0,0,0,0],
    // Row 40-47: Sandals
    [0,0,0,0,0,0,0,0,1,11,11,11,11,11,1,0,1,11,11,11,11,11,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,11,11,11,11,11,1,0,1,11,11,11,11,11,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,12,11,11,11,11,11,1,0,1,11,11,11,11,12,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,12,12,11,11,11,11,1,0,1,11,11,11,12,12,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  ],
  ranger: [
    // Row 0-3: Hood top
    [0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,1,1,8,8,8,8,8,8,1,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,8,8,9,9,9,9,9,9,8,8,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,8,8,9,9,9,9,9,9,9,9,8,8,1,0,0,0,0,0,0,0,0,0],
    // Row 4-7: Hood + face start
    [0,0,0,0,0,0,0,0,1,8,8,8,8,8,9,9,9,9,8,8,8,8,8,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,8,8,8,8,8,8,8,8,8,8,8,8,8,8,10,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,10,6,6,6,6,6,6,6,6,6,6,6,6,10,10,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,6,6,7,6,6,6,6,6,6,6,6,7,6,6,10,1,0,0,0,0,0,0,0],
    // Row 8-15: Face
    [0,0,0,0,0,0,0,1,10,6,7,7,6,6,6,6,6,6,6,6,7,7,6,10,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,1,3,3,3,3,3,3,3,3,3,3,3,3,1,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,3,3,5,3,3,3,3,3,3,3,3,5,3,3,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,3,3,1,1,3,3,3,3,3,3,1,1,3,3,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,3,3,1,1,3,3,3,3,3,3,1,1,3,3,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,4,3,3,3,3,3,4,4,3,3,3,3,3,4,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,4,3,3,3,3,3,3,3,3,3,3,4,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,1,4,4,4,4,4,4,4,4,1,1,0,0,0,0,0,0,0,0,0,0],
    // Row 16-19: Neck + shoulders
    [0,0,0,0,0,0,0,0,0,0,0,0,1,3,3,3,3,3,3,1,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,3,3,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,1,1,8,8,8,8,8,8,1,1,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,12,12,0,0,0,0,1,8,8,8,8,8,8,8,8,8,8,8,8,1,0,0,0,0,0,0,0,0,0],
    // Row 20-31: Leather armor + cape
    [0,0,12,12,12,0,0,0,1,8,8,8,8,9,9,9,9,9,9,8,8,8,8,1,0,0,0,0,0,0,0,0],
    [0,0,12,12,12,0,0,1,8,8,8,9,9,9,11,11,11,11,9,9,9,8,8,8,1,0,0,0,0,0,0,0],
    [0,0,12,12,12,0,1,8,8,8,9,9,11,11,11,11,11,11,11,11,9,9,8,8,8,1,0,0,0,0,0,0],
    [0,0,12,12,12,1,10,8,8,8,8,9,11,11,8,8,8,8,11,11,9,8,8,8,8,10,1,0,0,0,0,0],
    [0,0,12,12,12,1,10,3,8,8,8,8,11,11,8,8,8,8,11,11,8,8,8,8,3,10,1,0,0,0,0,0],
    [0,0,0,12,12,1,10,3,3,8,8,8,8,8,8,8,8,8,8,8,8,8,8,3,3,10,1,0,0,0,0,0],
    [0,0,0,0,12,0,1,4,3,10,8,8,8,8,8,8,8,8,8,8,8,8,10,3,4,1,0,0,0,0,0,0],
    [0,0,0,0,0,0,1,4,4,10,10,8,8,8,8,8,8,8,8,8,8,10,10,4,4,1,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,4,10,10,10,8,8,8,8,8,8,8,8,10,10,10,4,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,10,10,10,10,8,8,8,8,8,10,10,10,10,10,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,10,10,10,10,10,8,8,8,10,10,10,10,10,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,8,10,10,10,10,10,10,10,10,10,10,8,1,0,0,0,0,0,0,0,0,0,0],
    // Row 32-39: Pants/legs
    [0,0,0,0,0,0,0,0,0,1,8,8,10,10,10,10,10,10,8,8,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,11,11,11,10,10,10,10,11,11,11,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,11,11,11,11,1,11,11,11,11,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,11,11,11,1,0,1,11,11,11,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,11,11,1,0,0,0,1,11,11,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,11,11,1,0,0,0,1,11,11,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,11,11,11,11,1,0,1,11,11,11,11,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,11,11,11,11,1,0,1,11,11,11,11,1,0,0,0,0,0,0,0,0,0,0],
    // Row 40-47: Boots
    [0,0,0,0,0,0,0,0,1,12,12,11,11,11,1,0,1,11,11,12,12,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,12,12,12,11,11,1,0,1,11,12,12,12,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,12,12,12,12,11,11,1,0,1,11,12,12,12,12,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,12,12,12,12,12,11,1,0,1,12,12,12,12,12,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  ],
  warlock: [
    // Row 0-3: Horned hood
    [0,0,0,0,0,12,13,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,13,12,0,0,0,0,0,0,0],
    [0,0,0,0,0,12,13,12,0,0,0,1,1,1,1,1,1,1,1,1,1,0,12,13,12,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,12,0,0,0,1,8,8,8,8,8,8,8,8,8,8,1,0,12,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,8,8,8,9,9,9,9,9,9,8,8,8,1,0,0,0,0,0,0,0,0,0],
    // Row 4-7: Hood + glowing eyes area
    [0,0,0,0,0,0,0,0,1,8,8,8,9,9,9,9,9,9,9,9,8,8,8,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,8,8,8,8,8,8,8,8,8,8,8,8,8,8,10,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,10,6,6,6,6,6,6,6,6,6,6,6,6,10,10,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,6,6,7,6,6,6,6,6,6,6,6,7,6,6,10,1,0,0,0,0,0,0,0],
    // Row 8-15: Face with glowing eyes
    [0,0,0,0,0,0,0,1,10,6,7,7,6,6,6,6,6,6,6,6,7,7,6,10,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,1,3,3,3,3,3,3,3,3,3,3,3,3,1,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,3,3,12,13,3,3,3,3,3,12,13,3,3,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,3,3,12,13,3,3,3,3,3,12,13,3,3,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,4,3,3,3,3,3,4,4,3,3,3,3,3,4,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,4,3,3,3,3,3,3,3,3,3,3,4,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,4,4,3,3,4,4,4,4,3,3,4,4,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,1,4,4,4,4,4,4,4,4,1,1,0,0,0,0,0,0,0,0,0,0],
    // Row 16-19: Neck with soul orb
    [0,0,0,0,0,0,0,0,0,0,0,0,1,3,3,3,3,3,3,1,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,3,3,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,1,1,8,8,8,8,8,8,1,1,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,8,8,8,8,12,13,13,12,8,8,8,8,1,0,0,0,0,0,0,0,0,0],
    // Row 20-31: Dark robes with glowing runes
    [0,0,0,0,0,0,0,0,1,8,8,8,8,12,13,13,13,13,12,8,8,8,8,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,8,8,8,9,9,9,12,12,12,12,9,9,9,8,8,8,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,1,8,8,8,9,9,9,8,8,8,8,8,8,9,9,9,8,8,8,1,0,0,0,0,0,0],
    [0,0,12,13,0,1,10,8,8,8,8,9,9,8,12,12,12,12,8,9,9,8,8,8,8,10,1,0,13,12,0,0],
    [0,12,13,12,1,10,10,3,8,8,8,8,8,8,12,13,13,12,8,8,8,8,8,3,10,10,1,12,13,12,0,0],
    [12,13,12,0,1,10,10,3,3,8,8,8,8,8,8,12,12,8,8,8,8,8,8,3,3,10,10,1,0,12,13,12],
    [12,12,0,0,0,1,10,4,3,10,8,8,8,8,8,8,8,8,8,8,8,8,10,3,4,10,1,0,0,0,12,12],
    [0,0,0,0,0,0,1,4,4,10,10,8,8,8,8,8,8,8,8,8,8,10,10,4,4,1,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,4,10,10,10,8,8,8,8,8,8,8,8,10,10,10,4,1,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,10,10,10,10,10,8,12,12,12,8,10,10,10,10,10,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,10,10,10,10,10,12,13,12,10,10,10,10,10,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,8,10,10,10,10,10,12,10,10,10,10,8,1,0,0,0,0,0,0,0,0,0,0],
    // Row 32-39: Lower robes
    [0,0,0,0,0,0,0,0,0,1,8,8,10,10,10,10,10,10,8,8,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,8,8,8,10,10,10,10,8,8,8,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,8,8,8,8,1,8,8,8,8,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,8,8,8,1,0,1,8,8,8,1,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,10,10,1,0,0,1,10,10,1,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,1,10,10,1,0,0,1,10,10,1,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,11,10,10,10,1,0,1,10,10,10,11,1,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,1,11,11,10,10,1,0,1,10,10,11,11,1,0,0,0,0,0,0,0,0,0,0],
    // Row 40-47: Feet
    [0,0,0,0,0,0,0,0,1,11,11,11,11,11,1,0,1,11,11,11,11,11,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,1,11,11,11,11,11,1,0,1,11,11,11,11,11,1,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,11,11,11,11,11,11,1,0,1,11,11,11,11,11,11,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,11,11,11,11,11,11,1,0,1,11,11,11,11,11,11,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  ],
};

export function PixelSprite({ avatar, size = 128, glowColor, className }: PixelSpriteProps) {
  const palette = SPRITE_PALETTES[avatar];
  const spriteData = SPRITE_DATA[avatar];

  const getColor = (value: number): string | null => {
    switch (value) {
      case 0: return null; // transparent
      case 1: return palette.outline;
      case 2: return palette.outlineLight;
      case 3: return palette.skin;
      case 4: return palette.skinShadow;
      case 5: return palette.skinHighlight;
      case 6: return palette.hair;
      case 7: return palette.hairShadow;
      case 8: return palette.primary;
      case 9: return palette.primaryLight;
      case 10: return palette.primaryDark;
      case 11: return palette.secondary;
      case 12: return palette.accent;
      case 13: return palette.accentGlow;
      default: return null;
    }
  };

  return (
    <svg
      width={size}
      height={size * 1.5}
      viewBox="0 0 32 48"
      className={className}
      style={{
        imageRendering: 'pixelated',
        filter: glowColor ? `drop-shadow(0 0 ${size / 16}px ${glowColor})` : undefined,
      }}
    >
      {spriteData.map((row, y) =>
        row.map((pixel, x) => {
          const color = getColor(pixel);
          if (!color) return null;
          return (
            <rect
              key={`${x}-${y}`}
              x={x}
              y={y}
              width={1}
              height={1}
              fill={color}
            />
          );
        })
      )}
    </svg>
  );
}

// Animated idle version with subtle bounce
export function PixelSpriteAnimated({ avatar, size = 128, glowColor, className }: PixelSpriteProps) {
  return (
    <div
      className={className}
      style={{
        animation: 'pixelBounce 1.5s ease-in-out infinite',
      }}
    >
      <style>{`
        @keyframes pixelBounce {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-3px); }
        }
      `}</style>
      <PixelSprite avatar={avatar} size={size} glowColor={glowColor} />
    </div>
  );
}
